战斗部分

start（接收到事件，战斗开始）
{
       显示所有不变的UI//如背包按钮等
       while（战斗未结束）
       {
                规则层：获取角色行动先后；
                显示时间轴于屏幕上方；
                获取当前行动的人物坐标，在该坐标设置行动选项界面；
                获取剩余行动点，信息版面，并全部显示；
                while（接收到玩家指令）
                {
                         if（该指令并非战斗指令）
                         发送给规则层并执行；
                         else
                         {
                                  发送给规则层；
                                  显示掷骰结果和战斗结果；
                                  break；
                         }
                }
       }
}
update（接收到战斗结果）
{
       显示战斗结果；
       退出并终止战斗界面；
}


探索部分
start（）
{
       显示常规UI；
       while（时间条未超出最大值）
       {
                if （玩家选择行动需消耗时间）
                {
                          if（剩余时间不足以执行）
                          {
                                   提示；
                                   continue；
                          }
                          else
                          弹出提示，确认后发送给数据层，修改进度条；
                }
                switch（所点击物品类型）
                {
                          执行；
                }
       }
}